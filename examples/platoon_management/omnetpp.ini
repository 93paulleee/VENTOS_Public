
include ../../omnetpp_general.ini

##########################################################
#                     Section 1                          #
##########################################################

[Config Platooning]
description = "Youtube video: three plns (1,5,5) doing merge/split"

Network.TraCI.active = true
Network.TraCI.SUMOconfig = "examples/platoon_management/sumocfg/6hello.sumo.cfg"
Network.TraCI.terminateTime = 600s

Network.addNode.id = "example_0"
Network.trafficControl.id = "example_0"

Network.V[*].appl.sendBeacons = true
Network.V[*].appl.beaconInterval = 0.1s

Network.V[*].appl.record_platoon_stat = true
#Network.V[*].appl.coordinationMode = 2

#Network.V[*].record_stat = true
#Network.V[0].record_list = "vehId"
#Network.V[*].record_list = "vehId | vehtype | lane | lanepos | speed | accel | departure | arrival | route | routeduration | drivingdistance | cfmode | timegapsetting | timegap | frontspacegap | nexttlid | nexttllinkstat"

#Network.V[*].nic.phy80211p.record_frameTxRx = true
Network.V[*].nic.phy80211p.emulationActive = true

Network.Tracking.mode = 3
Network.Tracking.trackingLane = "1to2_1"
Network.Tracking.winOffsetX = 130
Network.Tracking.winOffsetY = 0

##############################






##########################################################
#                     Section 2                          #
##########################################################

[Config CACCVehiclePlatoonManag1]
description = "Youtube video: three plns (1,5,5) doing merge/split"

Network.TraCI.active = true
Network.TraCI.SUMOconfig = "examples/platoon_management/sumocfg/6hello.sumo.cfg"
Network.TraCI.terminateTime = 600s

Network.addNode.id = "add_0"

Network.V[*].SUMOvehicleDebug = false

Network.V[*].appl.sendBeacons = true
Network.V[*].appl.beaconInterval = 0.1s

Network.V[*].appl.record_platoon_stat = true
Network.V[*].appl.plnMode = 3  # platoon management is active
Network.V[*].appl.maxPlatoonSize = 10
Network.V[*].appl.optPlatoonSize = 5
Network.V[*].appl.coordinationMode = 2

Network.Tracking.mode = 3
Network.Tracking.trackingLane = "1to2_1"
Network.Tracking.winOffsetX = 130
Network.Tracking.winOffsetY = 0

##############################

[Config CACCVehiclePlatoonManag2]
description = "Youtube video: 6-vehicle platoon doing leader/last follower/middle follower leave"

Network.TraCI.active = true
Network.TraCI.SUMOconfig = "examples/platoon_management/sumocfg/6hello.sumo.cfg" 
Network.TraCI.terminateTime = 600s

Network.addNode.id = "add_1"

Network.V[*].SUMOvehicleDebug = false

Network.V[*].appl.sendBeacons = true
Network.V[*].appl.beaconInterval = 0.1s

Network.V[*].appl.record_platoon_stat = true
Network.V[*].appl.plnMode = 3  # platoon management is active
Network.V[*].appl.maxPlatoonSize = 10
Network.V[*].appl.optPlatoonSize = 6
Network.V[*].appl.coordinationMode = 3

Network.Tracking.mode = 3
Network.Tracking.trackingLane = "1to2_1"
Network.Tracking.winOffsetX = 130
Network.Tracking.winOffsetY = 0

##############################

[Config CACCVehiclePlatoonManag3]
description = "IEEE CSS video clip contest"

Network.TraCI.active = true
Network.TraCI.SUMOconfig = "examples/platoon_management/sumocfg/6hello.sumo.cfg" 
Network.TraCI.terminateTime = 600s

# we have a light background traffic
Network.addNode.id = "add_2"

Network.V[*].SUMOvehicleDebug = false

Network.V[*].appl.sendBeacons = true
Network.V[*].appl.beaconInterval = 0.1s

Network.V[*].appl.record_platoon_stat = false
Network.V[*].appl.plnMode = 3  # platoon management is active
Network.V[*].appl.maxPlatoonSize = 10
Network.V[*].appl.optPlatoonSize = 5
Network.V[*].appl.coordinationMode = 4

Network.Tracking.mode = 3
Network.Tracking.trackingLane = "1to2_1"
Network.Tracking.winOffsetX = 130
Network.Tracking.winOffsetY = 0

##############################

[Config CACCVehiclePlatoonManag4]
description = "10-vehicle platoon: speed profiles in split/merge"

Network.TraCI.active = true
Network.TraCI.SUMOconfig = "examples/platoon_management/sumocfg/6hello.sumo.cfg" 
Network.TraCI.terminateTime = 163s 

Network.addNode.id = "add_3" 

Network.V[*].SUMOvehicleDebug = false

Network.V[*].appl.sendBeacons = true
Network.V[*].appl.beaconInterval = 0.1s

Network.V[*].appl.record_platoon_stat = true
Network.V[*].appl.plnMode = 3  # platoon management is active
Network.V[*].appl.maxPlatoonSize = 10
Network.V[*].appl.optPlatoonSize = 10
Network.V[*].appl.coordinationMode = 5

Network.Tracking.mode = 3
Network.Tracking.winOffsetX = 130
Network.Tracking.winOffsetY = 0

##############################

[Config CACCVehiclePlatoonManag5]
description = "10-vehicle platoon: change of optPlnSize from 10 to 2"

Network.TraCI.active = true
Network.TraCI.SUMOconfig = "examples/platoon_management/sumocfg/6hello.sumo.cfg"
Network.TraCI.terminateTime = 500s 

Network.addNode.id = "add_3" 

Network.V[*].SUMOvehicleDebug = false

Network.V[*].appl.sendBeacons = true
Network.V[*].appl.beaconInterval = 0.1s

Network.V[*].appl.record_platoon_stat = true
Network.V[*].appl.plnMode = 3  # platoon management is active
Network.V[*].appl.maxPlatoonSize = 10
Network.V[*].appl.optPlatoonSize = 10
Network.V[*].appl.coordinationMode = 8

Network.Tracking.mode = -1

##############################

[Config CACCVehiclePlatoonManag6]
description = "two 5-vehicle platoon: stability analysis"

Network.TraCI.active = true
Network.TraCI.SUMOconfig = "examples/platoon_management/sumocfg/6hello.sumo.cfg"
Network.TraCI.terminateTime = 190s 

Network.addNode.id = "add_3"

Network.V[*].SUMOvehicleDebug = false

Network.V[*].appl.sendBeacons = true
Network.V[*].appl.beaconInterval = 0.1s

Network.V[*].appl.record_platoon_stat = true
Network.V[*].appl.plnMode = 3  # platoon management is active
Network.V[*].appl.maxPlatoonSize = 10
Network.V[*].appl.optPlatoonSize = 5
Network.V[*].appl.coordinationMode = 1   # no coordinations!

Network.speedprofile.active = true
Network.speedprofile.laneId = "1to2_1"
Network.speedprofile.startTime = 40s
Network.speedprofile.mode = 7   # using external trajectory
Network.speedprofile.trajectoryPath = "sumo/trajectory_SplitMerge1.txt"

Network.Tracking.mode = 3
Network.Tracking.winOffsetX = 130
Network.Tracking.winOffsetY = 0

##############################

[Config CACCVehiclePlatoonManag7]
description = "communication failure in leader leave"

Network.TraCI.active = true
Network.TraCI.SUMOconfig = "examples/platoon_management/sumocfg/6hello.sumo.cfg" 
Network.TraCI.terminateTime = 163s 

Network.addNode.id = "add_3"

Network.V[*].SUMOvehicleDebug = false

Network.V[*].appl.sendBeacons = true
Network.V[*].appl.beaconInterval = 0.1s

Network.V[*].appl.record_platoon_stat = true
Network.V[*].appl.plnMode = 3  # platoon management is active
Network.V[*].appl.maxPlatoonSize = 10
Network.V[*].appl.optPlatoonSize = 10
Network.V[*].appl.coordinationMode = 9

Network.Tracking.mode = 3
Network.Tracking.winOffsetX = 130
Network.Tracking.winOffsetY = 0

##############################

[Config CACCVehiclePlatoonManag8_CMD]
description = "maneuver duration in command-line"

repeat = 13  # from run0 to run12
             # in each run we perform a different platooning scenario

Network.TraCI.active = true
Network.TraCI.SUMOconfig = "examples/platoon_management/sumocfg/6hello.sumo.cfg" 
Network.TraCI.terminateTime = 163s 

Network.addNode.id = "add_3" 

Network.V[*].SUMOvehicleDebug = false

Network.V[*].appl.sendBeacons = true
Network.V[*].appl.beaconInterval = 0.1s

Network.V[*].appl.record_platoon_stat = true
Network.V[*].appl.plnMode = 3  # platoon management is active
Network.V[*].appl.maxPlatoonSize = 10
Network.V[*].appl.optPlatoonSize = 10
Network.V[*].appl.coordinationMode = 6

Network.Tracking.mode = -1

##############################

[Config CACCVehiclePlatoonManag9_CMD]
description = "effect of changing TP on merge/split duration"

Network.TraCI.active = true
Network.TraCI.SUMOconfig = "examples/platoon_management/sumocfg/6hello.sumo.cfg" 
Network.TraCI.terminateTime = 163s

Network.addNode.id = "add_3" 

Network.V[*].SUMOvehicleDebug = false

Network.V[*].appl.sendBeacons = true
Network.V[*].appl.beaconInterval = 0.1s

Network.V[*].appl.record_platoon_stat = true
Network.V[*].appl.plnMode = 3  # platoon management is active
Network.V[*].appl.maxPlatoonSize = 10
Network.V[*].appl.optPlatoonSize = 10
Network.V[*].appl.TP = ${2s, 3.5s, 5s}
Network.V[*].appl.coordinationMode = 7

Network.Tracking.mode = -1

##########################################################
#                     Section 3                          #
##########################################################

[Config CACCVehiclePlatoonThroughput1_CMD]
description = "effect of changing TP on throughput"

Network.TraCI.active = true
Network.TraCI.SUMOconfig = "examples/platoon_management/sumocfg/6hello.sumo.cfg"
Network.TraCI.terminateTime = 700s

Network.addMobileNode.mode = 6
Network.addMobileNode.numVehicles = 1000
Network.addMobileNode.lambda = 2000 # veh/h
Network.addMobileNode.plnSize = 5
Network.addMobileNode.plnSpace = ${2s, 3.5s, 5s}

Network.V[*].SUMOvehicleDebug = false
Network.V[*].record_stat = true
Network.V[*].record_list = "vehId | lanePos | speed | accel | frontSpaceGap"
Network.V[*].DSRCenabled = false   # to make the simulation faster

Network.Tracking.mode = -1
Network.inductionLoop.record_stat = true

##############################

[Config CACCVehiclePlatoonThroughput2_CMD]
description = "effect of platoon size on throughput"

Network.TraCI.active = true
Network.TraCI.SUMOconfig = "examples/platoon_management/sumocfg/6hello.sumo.cfg"
Network.TraCI.terminateTime = 700s

Network.addMobileNode.mode = 6
Network.addMobileNode.numVehicles = 1000
Network.addMobileNode.lambda = 2000 # veh/h
Network.addMobileNode.plnSize = ${5, 10, 15, 20}
Network.addMobileNode.plnSpace = 3.5s

Network.V[*].SUMOvehicleDebug = false
Network.V[*].record_stat = true
Network.V[*].record_list = "vehId | lanePos | speed | accel | frontSpaceGap"
Network.V[*].DSRCenabled = false

Network.Tracking.mode = -1
Network.inductionLoop.record_stat = true
